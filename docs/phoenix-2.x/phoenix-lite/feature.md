---
id: phoenix-lite-feature-2x
title: 特性介绍
---

# 核心特性

## 内存计算

Phoenix使系统业务数据的修改完全在内存中进行，业务数据模型和算法面向内存构建，使领域内业务代码高度聚合而领域之间的业务代码解耦，简化计算层和存储层的交互，以提高性能。


## 响应式

响应式微服务通常基于消息驱动，相比同步式微服务更松耦合，更自治。响应式可以使系统更有水平扩展和收缩的能力（伸缩性）以及快速恢复的能力（弹性）。


## 分布式事务

微服务拆分后面临分布式事务问题，Phoenix提供了一套框架层面的分布式事务解决方案，使用户更容易理解和快速上手。


## 高可用

Phoenix做到了有状态服务下的高可用，满足金融核心领域RTO=0和RPO=0的要求。

## 易于使用

Phoenix提供了开箱即用的Spring Boot Starter，可以快速便捷地进行开发和部署。底层封装了复杂的多线程调度实现，将聚合根编程模型简化为单线程，大大降低用户的使用门槛。同时部署支持虚拟机、容器、Kubernetes等多种平台。


## 系统可观测

Phoenix提供了一套服务管理平台，支持对系统进行实时的状态监控、性能监控、业务监控、调用链追踪和异常分析等，满足运维和金融审计需求。


# 其他

## 有状态服务

聚合根数据状态的计算在内存中进行，且数据状态会被存储至EventStore，服务故障重启后可恢复。


## 事件存储

为保证服务在故障重启后能正确恢复聚合根数据状态，Phoenix使用EventStore存储所有用于恢复聚合根数据的领域事件。EventStore保证消息有序不丢，在服务宕机恢复是可通过从EventStore中拉取领域事件恢复内存状态


## 事件溯源/快照

事件溯源是宕机服务恢复内存状态的一种实现方式，Phoenix中通过拉取EventStore中的有序消息，重走一遍处理过程来恢复内存状态。快照是某一时刻内存状态的备份，可以用来加速EventSourcing的恢复速度。


## 消息幂等

Phoenix通过重发机制来保证消息的可靠性投递，需要设计消息幂等机制来保证同一个消息不会被多次处理。Phoenix通过两种方式来实现消息幂等
 - 在内存中维护一个固定大小的幂等队列
 - 通过 EventStore 的主键和唯一键索引冲突，来防止将同一消息持久化多次
Phoenix维护了一个1000大小的幂等集合，来存储最新处理的1000个消息的msgId，通过该集合来保证消息的幂等。由于某些不可预测的原因，可能该幂等集合幂等失败，这个时候我们可以通过EventStore表的主键和唯一键索引来保证幂等。（消息产生之后在处理之前需要先执行EventStore操作将消息持久化下来。）