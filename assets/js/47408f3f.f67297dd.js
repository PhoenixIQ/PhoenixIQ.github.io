"use strict";(self.webpackChunkphoenixiq_github_io=self.webpackChunkphoenixiq_github_io||[]).push([[79031],{66641:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>r,frontMatter:()=>t,metadata:()=>c,toc:()=>h});var i=n(85893),a=n(11151);const t={id:"phoenix-console-business-monitor",title:"\u4e1a\u52a1\u76d1\u63a7"},o=void 0,c={id:"phoenix-2.x/phoenix-console/phoenix-console-business-monitor",title:"\u4e1a\u52a1\u76d1\u63a7",description:"Phoenix\u901a\u8fc7Elasticsearch + Grafana\u5f00\u6e90\u7ec4\u4ef6\u642d\u5efa\u4e1a\u52a1\u76d1\u63a7\u7cfb\u7edf\uff0c\u80fd\u591f\u6e05\u6670\u7684\u5c55\u793a\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u4e8b\u4ef6\u6570\u636e\uff0c\u6709\u5229\u4e8e\u4e1a\u52a1\u8fc7\u7a0b\u4e2d\u5feb\u901f\u6392\u67e5\u5f02\u5e38\u6570\u636e\u548c\u5f02\u5e38\u884c\u4e3a\u3002\u4e1a\u52a1\u76d1\u63a7\u7cfb\u7edf\u4e3a\u5f00\u53d1\u4eba\u5458\u5c55\u793a\u6d88\u606f\u603b\u6570\u3001\u5f02\u5e38\u603b\u6570\u3001\u6d88\u606f\u5206\u5e03\u3001\u6d88\u606f\u8fc7\u6ee4\u3001\u8282\u70b9\u5217\u8868\u3001\u6d88\u606f\u6570\u91cf\u3001\u6d88\u606f\u5185\u5bb9\u3001\u6d88\u606f\u539f\u59cb\u65e5\u5fd7\u7b49\u8bf8\u591a\u4fe1\u606f\u3002",source:"@site/versioned_docs/version-2.4.1/phoenix-2.x/05-phoenix-console/03-business-monitor.md",sourceDirName:"phoenix-2.x/05-phoenix-console",slug:"/phoenix-2.x/phoenix-console/phoenix-console-business-monitor",permalink:"/docs/2.4.1/phoenix-2.x/phoenix-console/phoenix-console-business-monitor",draft:!1,unlisted:!1,editUrl:"https://github.com/PhoenixIQ/versioned_docs/version-2.4.1/phoenix-2.x/05-phoenix-console/03-business-monitor.md",tags:[],version:"2.4.1",sidebarPosition:3,frontMatter:{id:"phoenix-console-business-monitor",title:"\u4e1a\u52a1\u76d1\u63a7"},sidebar:"docs",previous:{title:"\u670d\u52a1\u7ba1\u7406",permalink:"/docs/2.4.1/phoenix-2.x/phoenix-console/phoenix-console-service-management"},next:{title:"\u7cfb\u7edf\u76d1\u63a7",permalink:"/docs/2.4.1/phoenix-2.x/phoenix-console/phoenix-console-system-monitor"}},l={},h=[{value:"\u4e1a\u52a1\u76d1\u63a7",id:"\u4e1a\u52a1\u76d1\u63a7",level:2},{value:"\u76d1\u63a7\u603b\u89c8",id:"\u76d1\u63a7\u603b\u89c8",level:4},{value:"\u7b5b\u9009\u680f",id:"\u7b5b\u9009\u680f",level:4},{value:"\u6d88\u606f\u4e2a\u6570\u7edf\u8ba1\u9762\u677f",id:"\u6d88\u606f\u4e2a\u6570\u7edf\u8ba1\u9762\u677f",level:4},{value:"\u6d88\u606f\u8be6\u60c5",id:"\u6d88\u606f\u8be6\u60c5",level:4},{value:"\u6d88\u606f\u539f\u59cb\u65e5\u5fd7\u9762\u677f",id:"\u6d88\u606f\u539f\u59cb\u65e5\u5fd7\u9762\u677f",level:4},{value:"\u4f7f\u7528\u8bf4\u660e",id:"\u4f7f\u7528\u8bf4\u660e",level:2}];function d(e){const s={a:"a",code:"code",h2:"h2",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"Phoenix\u901a\u8fc7Elasticsearch + Grafana\u5f00\u6e90\u7ec4\u4ef6\u642d\u5efa\u4e1a\u52a1\u76d1\u63a7\u7cfb\u7edf\uff0c\u80fd\u591f\u6e05\u6670\u7684\u5c55\u793a\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u4e8b\u4ef6\u6570\u636e\uff0c\u6709\u5229\u4e8e\u4e1a\u52a1\u8fc7\u7a0b\u4e2d\u5feb\u901f\u6392\u67e5\u5f02\u5e38\u6570\u636e\u548c\u5f02\u5e38\u884c\u4e3a\u3002\u4e1a\u52a1\u76d1\u63a7\u7cfb\u7edf\u4e3a\u5f00\u53d1\u4eba\u5458\u5c55\u793a\u6d88\u606f\u603b\u6570\u3001\u5f02\u5e38\u603b\u6570\u3001\u6d88\u606f\u5206\u5e03\u3001\u6d88\u606f\u8fc7\u6ee4\u3001\u8282\u70b9\u5217\u8868\u3001\u6d88\u606f\u6570\u91cf\u3001\u6d88\u606f\u5185\u5bb9\u3001\u6d88\u606f\u539f\u59cb\u65e5\u5fd7\u7b49\u8bf8\u591a\u4fe1\u606f\u3002"}),"\n",(0,i.jsx)(s.p,{children:"Phoenix\u670d\u52a1\u7aef\u63d0\u4f9b\u7684\u4e8b\u4ef6\u53d1\u5e03\u529f\u80fd(event-publish-es)\u5c06\u76d1\u63a7\u6570\u636e\u76f4\u63a5\u4f20\u5165\u6307\u5b9aElasticsearch\u4e2d\uff0c\u7528\u6237\u7aef\u4f7f\u7528Grafana\u4eceElasticsearch\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u901a\u8fc7\u81ea\u5b9a\u4e49\u4eea\u8868\u9762\u677f\u53cb\u597d\u7684\u5c55\u793a\u51fa\u6765\u3002"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image",src:n(36303).Z+"",width:"830",height:"480"})}),"\n",(0,i.jsx)(s.h2,{id:"\u4e1a\u52a1\u76d1\u63a7",children:"\u4e1a\u52a1\u76d1\u63a7"}),"\n",(0,i.jsx)(s.h4,{id:"\u76d1\u63a7\u603b\u89c8",children:"\u76d1\u63a7\u603b\u89c8"}),"\n",(0,i.jsxs)(s.p,{children:["\u76d1\u63a7\u603b\u89c8\u80fd\u591f\u975e\u5e38\u76f4\u89c2\u7684\u5c55\u793a\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u6d88\u606f\u8be6\u60c5\n",(0,i.jsx)(s.img,{alt:"image-20200115192350535",src:n(92396).Z+"",width:"2187",height:"1137"})]}),"\n",(0,i.jsx)(s.h4,{id:"\u7b5b\u9009\u680f",children:"\u7b5b\u9009\u680f"}),"\n",(0,i.jsxs)(s.p,{children:["\u53ef\u4ee5\u901a\u8fc7\u76d1\u63a7\u7684\u4fe1\u606f\u8fdb\u884c\u81ea\u5b9a\u4e49\u7b5b\u9009\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8868\u683c\u4e2d\u7684\u52a0\u53f7\u8fdb\u884c\u7b5b\u9009\n",(0,i.jsx)(s.img,{alt:"image-20200115111102393",src:n(25796).Z+"",width:"2495",height:"370"})]}),"\n",(0,i.jsx)(s.h4,{id:"\u6d88\u606f\u4e2a\u6570\u7edf\u8ba1\u9762\u677f",children:"\u6d88\u606f\u4e2a\u6570\u7edf\u8ba1\u9762\u677f"}),"\n",(0,i.jsxs)(s.p,{children:["\u7edf\u8ba1\u7cfb\u7edf\u5185\u5404\u4e2a\u6d88\u606f\u7684\u4e2a\u6570\uff0c\u5305\u62ec\u6d88\u606f\u603b\u6570\uff0c\u5f02\u5e38\u6d88\u606f\u603b\u6570\u7b49\u7edf\u8ba1\u4fe1\u606f\n",(0,i.jsx)(s.img,{alt:"image-20200115111030625",src:n(14188).Z+"",width:"2494",height:"607"})]}),"\n",(0,i.jsx)(s.h4,{id:"\u6d88\u606f\u8be6\u60c5",children:"\u6d88\u606f\u8be6\u60c5"}),"\n",(0,i.jsxs)(s.p,{children:["\u767d\u9762\u677f\u5bf9\u6d88\u606f\u7684\u4e00\u4e9b\u91cd\u8981\u6307\u6807\u8fdb\u884c\u5355\u72ec\u5c55\u793a\uff0c\u53ef\u4ee5\u901a\u8fc7\u8868\u683c\u63d0\u4f9b\u7684\u7b5b\u9009\u529f\u80fd\u5b9a\u4f4d\u4e00\u6761\u6d88\u606f\u7684\u5904\u7406\u6d41\u7a0b\n",(0,i.jsx)(s.img,{alt:"message",src:n(25939).Z+"",width:"2181",height:"395"})]}),"\n",(0,i.jsx)(s.h4,{id:"\u6d88\u606f\u539f\u59cb\u65e5\u5fd7\u9762\u677f",children:"\u6d88\u606f\u539f\u59cb\u65e5\u5fd7\u9762\u677f"}),"\n",(0,i.jsxs)(s.p,{children:["\u5c55\u793a\u6570\u636e\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8fd9\u91cc\u5c55\u793a\u4e86\u91c7\u96c6\u5230\u7684\u6240\u6709\u76d1\u63a7\u4fe1\u606f\n",(0,i.jsx)(s.img,{alt:"image-20200115111217069",src:n(78715).Z+"",width:"2505",height:"467"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u8be5\u76d1\u63a7\u9762\u677f\u91c7\u7528\u6700\u8fd1\u7684grafana\u76d1\u63a7\u9762\u677f\uff0c\u9f20\u6807\u79fb\u52a8\u5230\u67d0\u6761\u6d88\u606f\u4e0a\u53ef\u4ee5\u5c55\u793a\u5b8c\u6574\u7684json\u6570\u636e\n",(0,i.jsx)(s.img,{alt:"image-20200115111217069",src:n(86582).Z+"",width:"2560",height:"1367"})]}),"\n",(0,i.jsx)(s.h2,{id:"\u4f7f\u7528\u8bf4\u660e",children:"\u4f7f\u7528\u8bf4\u660e"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u90e8\u7f72elasticsearch\u548cgrafana"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u542f\u7528event-publish-es\u4efb\u52a1\uff1a"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"quantex.phoenix.event-publish.monitor-task.enabled: true\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"3",children:["\n",(0,i.jsxs)(s.li,{children:["\u652f\u6301\u53ef\u914d\u7f6e\u7684elasticsearch\u5730\u5740\uff0c\n\u9ed8\u8ba4\u662f",(0,i.jsx)(s.code,{children:"elasticsearch-master.phoenix-dev.svc.cluster.local:9200"})]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"quantex.phoenix.event-publish.monitor-task.es-server: 127.0.0.1:9200\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"4",children:["\n",(0,i.jsx)(s.li,{children:"\u901a\u8fc7grafana\u83b7\u53d6elasticsearch\u4e2d\u7684\u76d1\u63a7\u6570\u636e"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["\u5728grafana\u4e2d\u914d\u7f6eelasticsearch\u6570\u636e\u6e90",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(s.img,{alt:"message",src:n(39028).Z+"",width:"2554",height:"968"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["\u4f7f\u7528grafana\u4e00\u952e\u5bfc\u5165\u9762\u677f\uff0c\u7528\u4e8e\u5c55\u793a\u6570\u636e\n",(0,i.jsx)(s.img,{alt:"message",src:n(85957).Z+"",width:"2560",height:"1367"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["\u4f7f\u7528json-model\u6570\u636e\u5373\u53ef\u5feb\u901f\u751f\u6210phoenix message elasticsearch\u76d1\u63a7\u9762\u677f\uff1a",(0,i.jsx)(s.a,{href:"/docs/2.4.1/assets/file/phoenix-admin/message-es-model",children:"model"}),"\n",(0,i.jsx)(s.img,{alt:"message",src:n(59546).Z+"",width:"2560",height:"1367"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["\u5f53\u7136\uff0c\u9664\u4e86phoenix\u63d0\u4f9b\u7684\u76d1\u63a7\u6307\u6807\u4e4b\u5916\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e1a\u52a1\u6307\u6807\u6765\u5b9e\u73b0\u4e1a\u52a1\u76d1\u63a7\u3002\u5177\u4f53\u6307\u6807\u5b9a\u4e49\uff0c\u53c2\u8003",(0,i.jsx)(s.a,{href:"https://grafana.com/",children:"grafana"}),"\u6559\u7a0b\u3002\n",(0,i.jsx)(s.img,{alt:"message",src:n(27364).Z+"",width:"2560",height:"1367"})]}),"\n"]}),"\n"]})]})}function r(e={}){const{wrapper:s}={...(0,a.a)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},36303:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/001-d8232290c39621c3bff7063f5bd32103.png"},92396:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/002-b7fa53c866070a77340918f4d4c6634b.png"},25796:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/003-ba05a365580c6be05b4adefd0a7517fa.png"},14188:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/004-51041fca4411498aa3fdee396e021a69.png"},25939:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/005-7f4d3a7419dfdaffda8e73df717acf93.png"},78715:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/006-23df5006fea3e12ee4105a994d055f72.png"},86582:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/007-c3aeea12bf00ef4e3d51b90de8aeed14.png"},39028:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/008-5f70a0ab06530ce3798fc80dad23df92.png"},85957:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/009-21877876103a805628214784255f47b4.png"},59546:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/010-00dbb93b904511236243c9decddfd0bc.png"},27364:(e,s,n)=>{n.d(s,{Z:()=>i});const i=n.p+"assets/images/011-ce2ebb9026487459f049d1c57e6e4444.png"},11151:(e,s,n)=>{n.d(s,{Z:()=>c,a:()=>o});var i=n(67294);const a={},t=i.createContext(a);function o(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);